// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model task_board {
  id              Int      @id @default(autoincrement())
  task_board_name String   @unique
  team_users_id   Int[]
  admin_id        Int[]
  task            task[]
  created_at      DateTime @default(now())
  updated_at      DateTime @updatedAt
  created_by      Int
}

model task {
  id                       Int            @id @default(autoincrement())
  task_title               String         @unique
  task_description         String
  task_file_id             String
  task_frequency           task_frequency
  task_start_utc_date_time DateTime
  task_end_utc_date_time   DateTime
  task_timezone            String
  task_coordinates         Float[]
  task_location            String
  task_board               task_board     @relation(fields: [task_board_id], references: [id])
  task_board_id            Int
  sub_task                 sub_task[]
  created_at               DateTime       @default(now())
  updated_at               DateTime       @updatedAt
  created_by               Int
}

enum task_frequency {
  ONEOFF
  RECURRING
}

model sub_task {
  id                Int      @id @default(autoincrement())
  task              task     @relation(fields: [task_id], references: [id])
  task_id           Int
  due_utc_date_time DateTime
  created_at        DateTime @default(now())
  updated_at        DateTime @updatedAt
  created_by        Int
}
